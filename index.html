<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AskMyGP - Home</title>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    /* Dashboard Cards */
    .dashboard-card {
      position: relative;
      display: block;
      padding: 15px 20px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-decoration: none;
      color: #212b32;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .dashboard-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    }

    /* Grid layout */
    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    /* Unread badge */
    .unread-badge {
      position: absolute;
      top: 10px;
      right: 15px;
      background-color: #d92b2b; /* red */
      color: white;
      font-size: 0.75rem;
      font-weight: bold;
      padding: 3px 6px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      animation: none;
    }

    /* Pulse animation */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); }
    }

    .pulse {
      animation: pulse 1s infinite;
    }
  </style>
</head>
<body>
  <!-- NHS Header -->
  <header class="nhs-header">
    <div class="nhs-container nhs-header-flex">
      <!-- NHS Logo -->
      <img src="assets/img/nhs logo.png" alt="NHS Logo" class="nhs-logo-img">

      <!-- Profile Icon -->
      <a href="profile.html">
        <img src="assets/img/profileicon.png" alt="Profile Icon" class="profile-icon">
      </a>
    </div>
  </header>

  <!-- Main Content -->
  <main class="nhs-container">
    <h2 class="nhs-heading">Welcome, John Smith</h2>
    <p>Select a service below to get started:</p>

    <div class="dashboard-grid">
      <a href="book-appointment.html" class="dashboard-card">
        <h3>Book Appointment</h3>
        <p>Arrange a GP appointment quickly and easily.</p>
      </a>

      <a href="messages.html" class="dashboard-card messages-card">
        <h3>View Messages</h3>
        <p>Check updates and messages from your GP.</p>
        <!-- Unread badge -->
        <span class="unread-badge" id="home-unread-count">0</span>
      </a>

      <a href="repeat-prescriptions.html" class="dashboard-card">
        <h3>Repeat Prescriptions</h3>
        <p>Order your regular medication online.</p>
      </a>

      <a href="health-advice.html" class="dashboard-card">
        <h3>Health Advice</h3>
        <p>Find trusted NHS health information.</p>
      </a>
    </div>
  </main>

  <!-- NHS Footer -->
  <footer class="nhs-footer">
    <div class="nhs-container">
      <p>&copy; 2025 NHS Digital. All rights reserved.</p>
      <p>
        <a href="https://digital.nhs.uk/about-nhs-digital/our-work/website-and-digital-services/nhs-digital-accessibility-statement" 
           class="nhs-link" target="_blank" rel="noopener noreferrer">
          Accessibility statement
        </a> 
        | 
        <a href="https://digital.nhs.uk/about-nhs-digital/our-work/keeping-patient-data-safe/how-we-look-after-your-health-and-care-information" 
           class="nhs-link" target="_blank" rel="noopener noreferrer">
          Privacy policy
        </a>
      </p>
    </div>
  </footer>

  <!-- Script for Unread Badge -->
  <script>
  // Example: number of unread messages
  let unreadMessages = 1; // replace with dynamic value from messages page/server

  const unreadBadge = document.getElementById("home-unread-count");
  const messagesCard = document.querySelector(".messages-card");

  function updateHomeUnreadBadge(count) {
    // Check localStorage to see if user has viewed messages
    const messagesViewed = localStorage.getItem("messagesViewed");

    if (count > 0 && !messagesViewed) {
      unreadBadge.textContent = count;
      unreadBadge.style.display = "flex";

      // Pulse animation for a few seconds
      unreadBadge.classList.add("pulse");
      setTimeout(() => {
        unreadBadge.classList.remove("pulse");
      }, 5000);
    } else {
      unreadBadge.style.display = "none";
    }
  }

  updateHomeUnreadBadge(unreadMessages);

  // When user clicks the Messages card, hide badge and save state
  messagesCard.addEventListener("click", () => {
    unreadBadge.style.display = "none";
    localStorage.setItem("messagesViewed", "true");
  });
</script>

</body>
</html>





